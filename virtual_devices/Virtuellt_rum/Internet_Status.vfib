{"name":"Internet Status","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"","ui.Label1.value":"On-Line","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Status","name":"Label1","favourite":false,"main":false}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"Check","name":"Button11","empty":false,"msg":"HC2 = Net.FHttp(\"www.google.se\", 80);\nresponse, status, errorCode = HC2:GET(\"/\"); \nfibaro:debug(\"Status of reqest: \" .. status .. '.');\n\nif (tonumber(status) ~= 200) then\n  fibaro:debug(\"Error \" .. errorCode .. \".\");\nend\n\nlocal myId = fibaro:getSelfId();\n--fibaro:debug(response)\nif (tonumber(status) == 200) then \n  fibaro:call(myId, \"setProperty\", \"ui.Label1.value\", \"On-Line\");\nelse \n  fibaro:call(myId, \"setProperty\", \"ui.Label1.value\", \"Off-Line\");\nend\n","buttonIcon":0,"favourite":false,"main":true}]},{"type":"button","elements":[{"id":3,"lua":true,"waitForResponse":false,"caption":"On","name":"Button21","empty":false,"msg":"local myId = fibaro:getSelfId()\nfibaro:call(myId, 'setProperty', 'ui.Label1.value', \"On-Line\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":4,"lua":true,"waitForResponse":false,"caption":"Off","name":"Button22","empty":false,"msg":"local myId = fibaro:getSelfId()\nfibaro:call(myId, 'setProperty', 'ui.Label1.value', \"Off-Line\")\n","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}